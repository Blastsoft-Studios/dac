{% extends "main.html" %}
{% load staticfiles %}

{% block head %}
	<script src="{% static "js/dac.js" %}" type="text/javascript"></script>
	<script src="{{ site_data.google_api_js }}"></script>
{% endblock %}

{% block body %}

	<div class="row">
		<div class="col-md-6 col-md-offset-3">

			{% if not site_data.disable_header %}
				<h1 class="text-center">Discord Avatar Changer</h1>
				<p></p>
			{% endif %}

			<div>
				<div id="alertContainer"></div>
			</div>

			<form id="dac" action="{% url 'avatar' %}" enctype="multipart/form-data" method="POST">
				{% csrf_token %}

				<p></p>

				<div class="form-group">
					<label for="inputName">Bot Username</label>
					<input type="text" class="form-control" id="inputName" name="inputName" placeholder="Bot Username" autofocus required>
				</div>

				<div class="form-group">
					<label for="inputToken">OAuth Token</label>
					<a href="#" data-toggle="modal" data-target="#token-help">
						<i class="fa fa-question-circle" aria-hidden="true"></i>
						Need Help
					</a>
					<input type="text" class="form-control" id="inputToken" name="inputToken" placeholder="Bot's OAuth Token" required>
				</div>

				<div class="form-group">
					<label for="inputAvatarFile">Avatar File</label>
					<input type="file" class="file-upload filestyle" data-buttonBefore="true" id="inputAvatarFile" name="inputAvatarFile" required>
				</div>

				<div class="form-group">
					<button type="submit" class="btn btn-primary" id="changeAvatarButton">
						<i class="fa fa-user-circle-o" aria-hidden="true"></i>
						Change Avatar
					</button>
					<button type="button" class="btn btn-danger resetButton pull-right">
						<i class="fa fa-ban" aria-hidden="true"></i>
						Reset
					</button>
				</div>

				{% if not request.session.recaptchaverified %}
					<div>
						<div class="g-recaptcha" data-sitekey="{{ site_data.google_site_key }}"></div>
					</div>
				{% endif %}

				<p></p>

				<div>
					<div id="resultContainer"></div>
				</div>

				{% if not site_data.disable_footer %}
					<div>
						<a href="https://git.cssnr.com/shane/dac" target="_blank">
							<img alt="build status" src="https://git.cssnr.com/shane/dac/badges/master/build.svg">
						</a>
						<a href="https://git.cssnr.com/shane/dac" target="_blank">
							<img alt="coverage report" src="https://git.cssnr.com/shane/dac/badges/master/coverage.svg">
						</a>
						<a href="https://git.cssnr.com/shane/dac" target="_blank">
							<i class="fa fa-gitlab" aria-hidden="true"></i>
							View Source
						</a>
						<span class="pull-right">
							<strong>By Shane Rice</strong>
						</span>
					</div>
				{% endif %}

			</form>

		</div>
	</div>

	{% include "token-modal.html" %}

{% endblock %}
