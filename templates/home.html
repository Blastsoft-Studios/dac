{% extends "main.html" %}
{% load staticfiles %}

{% block head %}
	<script src="{% static "js/dac.js" %}" type="text/javascript"></script>
	<script src="{{ google.js_uri }}"></script>
{% endblock %}

{% block body %}

	<div class="row">
		<div class="col-md-6 col-md-offset-3">

			<h1 class="text-center">Discord Avatar Change</h1>

			<p></p>

			<div>
				<div id="alertContainer"></div>
			</div>

			<form id="dac" action="{% url "avatar" %}" enctype="multipart/form-data" method="POST">
				{% csrf_token %}

				<p></p>

				<div class="form-group">
					<label for="inputName">Bot Username</label>
					<input type="text" class="form-control" id="inputName" name="inputName" placeholder="Bot Username" autofocus required>
				</div>

				<div class="form-group">
					<label for="inputToken">OAuth Token</label>
					<a href="#" data-toggle="modal" data-target="#token-help">
						<i class="fa fa-question-circle" aria-hidden="true"></i>
						Need Help
					</a>
					<input type="text" class="form-control" id="inputToken" name="inputToken" placeholder="Bot's OAuth Token" required>
				</div>

				<div class="form-group">
					<label for="inputAvatarFile">Avatar File</label>
					<input type="file" class="file-upload filestyle" data-buttonBefore="true" id="inputAvatarFile" name="inputAvatarFile" required>
				</div>

				<div class="form-group">
					<button type="submit" class="btn btn-primary" id="changeAvatarButton">
						<i class="fa fa-user-circle-o" aria-hidden="true"></i>
						Change Avatar
					</button>
					<button type="button" class="btn btn-danger resetButton pull-right">
						<i class="fa fa-ban" aria-hidden="true"></i>
						Reset
					</button>
				</div>

				{% if request.session.recaptchaverified %}
				{% else %}
					<div>
						<div class="g-recaptcha" data-sitekey="{{ google.site_key }}"></div>
					</div>
				{% endif %}

				<p></p>

				<div>
					<div id="resultContainer"></div>
				</div>

				<div>
					<strong>By Shane Rice</strong> |
					<a href="https://git.cssnr.com/shane/dac" target="_blank">
						<i class="fa fa-gitlab" aria-hidden="true"></i>
						View Source
					</a>
				</div>

			</form>

		</div>
	</div>

	{% include "token-modal.html" %}

{% endblock %}
